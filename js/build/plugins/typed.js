export const config={usrTypeSpeed:theme.home_banner.subtitle.typing_speed,usrBackSpeed:theme.home_banner.subtitle.backing_speed,usrBackDelay:theme.home_banner.subtitle.backing_delay,usrStartDelay:theme.home_banner.subtitle.starting_delay,usrLoop:theme.home_banner.subtitle.loop,usrSmartBackspace:theme.home_banner.subtitle.smart_backspace,usrHitokotoAPI:theme.home_banner.subtitle.hitokoto.api};function fetchHitokotoText(){const{usrHitokotoAPI:e}=config;return fetch(e).then((e=>e.json())).then((e=>e.from_who&&theme.home_banner.subtitle.hitokoto.show_author?`${e.hitokoto}——${e.from_who}`:e.hitokoto)).catch((e=>{console.error("Hitokoto fetch failed:",e);return"加载一言失败~"}))}export default function initTyped(e){const{usrTypeSpeed:t,usrBackSpeed:o,usrBackDelay:a,usrStartDelay:n,usrLoop:s}=config;const r=theme.home_banner.subtitle.hitokoto.enable;const i={typeSpeed:t||100,smartBackspace:false,backSpeed:o||80,backDelay:a||1500,loop:s||!1,startDelay:n||500,showCursor:true};if(r){fetchHitokotoText().then((r=>{const l=new Typed("#"+e,{...i,strings:[r],onLoopComplete:()=>{l.stop(),fetchHitokotoText().then((e=>{l.strings=[e],l.reset(),l.start()}))}})}))}else{const r=[...theme.home_banner.subtitle.text];document.getElementById(e)&&new Typed("#"+e,{...i,strings:r})}}
//# sourceMappingURL=typed.js.map
